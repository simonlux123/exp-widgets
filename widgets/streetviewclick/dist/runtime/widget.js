System.register(["jimu-core","jimu-arcgis"],(function(e,t){var i={},r={};return{setters:[function(e){i.React=e.React},function(e){r.JimuMapViewComponent=e.JimuMapViewComponent}],execute:function(){e((()=>{var e={686:e=>{"use strict";e.exports=r},244:e=>{"use strict";e.exports=i}},t={};function a(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,a),o.exports}a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var o={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(o),a.d(o,{__set_webpack_public_path__:()=>r,default:()=>i});var e=a(244),t=a(686);class i extends e.React.PureComponent{constructor(e){super(e),this.toggleStreetView=()=>{this.setState((e=>({isStreetViewActive:!e.isStreetViewActive})),(()=>{this.state.isStreetViewActive?this.activateStreetView():this.deactivateStreetView()}))},this.activateStreetView=()=>{this.jimuMapView&&this.jimuMapView.view&&!this.jimuMapView.view._clickListener&&(this.jimuMapView.view._clickListener=this.jimuMapView.view.on("click",this.handleMapClick))},this.deactivateStreetView=()=>{this.jimuMapView&&this.jimuMapView.view&&this.jimuMapView.view._clickListener&&(this.jimuMapView.view._clickListener.remove(),this.jimuMapView.view._clickListener=null)},this.handleMapClick=e=>{const{latitude:t,longitude:i}=e.mapPoint,r=`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t},${i}`;window.open(r,"_blank")},this.onActiveViewChange=e=>{this.jimuMapView=e,this.state.isStreetViewActive&&this.activateStreetView()},this.state={isStreetViewActive:!1}}render(){const{useMapWidgetId:i}=this.props.config,{isStreetViewActive:r}=this.state;return e.React.createElement("div",{className:"widget-streetviewclick",style:{backgroundColor:"white",border:"2px solid black",padding:"15px",fontWeight:"bold",fontSize:"16px",textAlign:"center",borderRadius:"5px"}},e.React.createElement("button",{style:{padding:"10px 15px",backgroundColor:r?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginBottom:"15px"},onClick:this.toggleStreetView},r?"Deactivate Street View":"Activate Street View"),e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:i,onActiveViewChange:this.onActiveViewChange}),e.React.createElement("div",{style:{padding:10}},"Click anywhere on the map to open Street View"))}}function r(e){a.p=e}})(),o})())}}}));